<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vocabulary Game</title>

  <style>
    body {
      font-family: "Comic Sans MS", Arial;
      background: #e3f2fd;
      text-align: center;
      margin: 0;
    }

    h1 { color: #ff6f00; }

    .score {
      font-size: 22px;
      color: #2e7d32;
      margin: 10px;
    }

    .card {
      background: white;
      width: 340px;
      margin: 15px auto;
      padding: 20px;
      border-radius: 25px;
      box-shadow: 0 6px 10px rgba(0,0,0,0.2);
    }

    button {
      width: 90%;
      margin: 8px auto;
      padding: 12px;
      font-size: 18px;
      border-radius: 20px;
      border: none;
      cursor: pointer;
      background: #4caf50;
      color: white;
      display: block;
    }

    .wrong { background: #f44336; }
    .teacher { background: #1976d2; }

    input {
      width: 90%;
      padding: 8px;
      margin: 5px;
      font-size: 16px;
      border-radius: 10px;
      border: 1px solid #ccc;
    }

    .word {
      font-size: 28px;
      cursor: pointer;
    }
  </style>
</head>

<body>

<h1>ğŸŒˆ Vocabulary Game ğŸŒˆ</h1>
<div class="score">â­ Score: <span id="score">0</span></div>

<!-- STUDENT MODE -->
<div id="student" class="card">
  <div class="word" onclick="speak(current.word)">
    ğŸ”Š <span id="word"></span>
  </div>

  <div id="answers"></div>
</div>

<!-- TEACHER MODE -->
<div class="card">
  <h3>ğŸ”‘ Teacher Mode</h3>

  <input id="tWord" placeholder="Word (e.g. apple)">
  <input id="tCorrect" placeholder="Correct meaning">
  <input id="tWrong1" placeholder="Wrong answer 1">
  <input id="tWrong2" placeholder="Wrong answer 2">

  <button class="teacher" onclick="addQuestion()">â• Add Question</button>
  <button class="teacher" onclick="resetGame()">ğŸ”„ Reset Game</button>

  <p id="total"></p>
</div>

<script>
  let questions = JSON.parse(localStorage.getItem("questions")) || [];
  let index = 0;
  let score = 0;
  let current = null;

  function addQuestion() {
    const q = {
      word: tWord.value,
      correct: tCorrect.value,
      wrong: [tWrong1.value, tWrong2.value]
    };

    if (!q.word || !q.correct) {
      alert("Please fill at least word and correct answer");
      return;
    }

    questions.push(q);
    localStorage.setItem("questions", JSON.stringify(questions));

    tWord.value = tCorrect.value = tWrong1.value = tWrong2.value = "";
    total.innerText = "Total questions: " + questions.length;

    alert("âœ… Question added!");
    loadQuestion();
  }

  function loadQuestion() {
    if (questions.length === 0) {
      word.innerText = "No questions yet";
      answers.innerHTML = "";
      return;
    }

    current = questions[index % questions.length];
    word.innerText = current.word;

    let options = [current.correct, ...current.wrong];
    options.sort(() => Math.random() - 0.5);

    answers.innerHTML = "";
    options.forEach(opt => {
      const btn = document.createElement("button");
      btn.innerText = opt;
      btn.onclick = () => checkAnswer(opt);
      answers.appendChild(btn);
    });
  }

  function checkAnswer(ans) {
    if (ans === current.correct) {
      score += 10;
      alert("ğŸ‰ Correct!");
    } else {
      alert("âŒ Try again!");
    }

    document.getElementById("score").innerText = score;
    index++;
    loadQuestion();
  }

  function speak(text) {
    const u = new SpeechSynthesisUtterance(text);
    u.lang = "en-US";
    speechSynthesis.speak(u);
  }

  function resetGame() {
    if (confirm("Clear all questions?")) {
      localStorage.clear();
      location.reload();
    }
  }

  window.onload = () => {
    total.innerText = "Total questions: " + questions.length;
    loadQuestion();
  };
</script>

</body>
</html>
